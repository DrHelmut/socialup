<div class="container">
    
    <div class="row">
        
       <!-- <a ng-repeat="provider in providers" href="{{oauthURLS[provider]}}" target="_blank">
            <img src="{{'images/'+provider+'.png'}}">
        </a>-->

        <table st-table="socialTokens" class="table table-striped">
            <thead>
                <tr>
                    <th>Provider</th>
                    <th>Statut</th>
                    <th>Nom d'utilisateur</th>
                    <th>Date d'expiration ?</th>
                    <th>Auto refresh</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <!--<tr ng-repeat="(provider, token) in socialTokens">-->
                <tr ng-repeat="provider in providers">
                    <td>
                        <a href="{{oauthURLS[provider]}}" target="_blank">
                            <img src="{{'images/'+provider+'.png'}}" width="64" height="64">
                        </a>
                    </td>
                    <td>
                        <i ng-if="socialTokens[provider]" class="alert-success glyphicon glyphicon-ok-sign"></i></td>
                    <td></td>
                   
                    <td><p ng-if="socialTokens[provider] && socialTokens[provider].expiry_date">{{socialTokens[provider].expiry_date | date:"dd/MM/yyyy 'Ã ' HH'h'mm" }}</p></td>
                   
                    <td><p ng-if="socialTokens[provider].refresh_token">true</p></td>
                    
                    <td>
                        <button ng-if="socialTokens[provider] && socialTokens[provider].expiry_date" type="button" class="btn btn-sm btn-info" uib-tooltip="refresh token">
                            <i class="glyphicon glyphicon-refresh"></i>
                        </button>
                        <button ng-if="socialTokens[provider] && !socialTokens[provider].expiry_date" ng-click="generateToken(provider)" type="button" class="btn btn-sm btn-info" uib-tooltip="regenerate token">
                            <i class="glyphicon glyphicon-repeat"></i>
                        </button>
                        <button ng-if="!socialTokens[provider]" type="button" ng-click="generateToken(provider)" class="btn btn-sm btn-warning" uib-tooltip="generate token">
                            <i class="glyphicon glyphicon-repeat"></i>
                        </button>
                    </td>     
                    <td>
                        <button ng-if="socialTokens[provider]" type="button" ng-click="deleteToken(provider)" class="btn btn-sm btn-danger" uib-tooltip="revoke token">
                            <i class="glyphicon glyphicon-trash"></i>
                        </button>
                    </td>              
                </tr>
            </tbody>
        </table>
    </div>
    
</div>